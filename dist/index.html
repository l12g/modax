<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <span class="mx-icon mx-icon__alert"></span>
    <span class="mx-icon mx-icon__warning"></span>
    <button onclick="show()">show</button>
    <button onclick="modalx().loading(10000000).title('please wait...').show()">loading</button>
    <button onclick="modalx().toast(123).show()">toast</button>

    <script src="modal-x.js"></script>
    <script>
        modalx.plugin('test', function () {
            setTimeout(() => {
                // this.close();
                modalx.close(this);
            }, 1000);
        }, {
            template: '<h1>hello plugin</h1>',
        });
        modalx.defaults.shadowType = 'light';
        for (let i = 0; i < 5; i++) {
            // modalx(i + 1).title(i + 1).content(i + 1).show();
        }

        function show() {
            modalx()
                .icon('alert', 'red')
                // .width('80%')
                .title('提示')
                .shadowClose(true)
                .shadowType('dark')
                .cancel(() => {
                    return true
                })
                .ok(() => {
                    alert()
                })
                .test()

                .content('是否退出登录？')
                .show(true);

            return
            // modalx('x').loading(0, '加载中').show();
            // return
            modalx('id')
                .title('提示')
                .content('xxx')
                .cancel(false)
                .ok(false)
                .action({
                    text: '跳过',
                    type: 'ok',
                    click: () => new Promise(r => {
                        // setTimeout(r, 1000);
                    })
                })
                .action({
                    text: '知道了',
                    type: 'cancel',
                })
                .ok(() => {
                    return new Promise(r => {
                        setTimeout(r, 1000);
                    })
                })
                .show();
            return;
            // modalx().height(699).src('http://localhost/new-qos/backend/web/index.php').show();
            // return;
            // modalx().toast('hello').show();
            // return
            modalx('x').loading(0, '加载中...').show();
            return
            setTimeout(() => {
                modalx()
                    .title('提示！')
                    .width(500)
                    // .content('<p>asdads</p><p>asdads</p><p>asdads</p><p>asdads</p><p>asdads</p><p>asdads</p>')
                    .ok('退出', () => {
                        return new Promise(r => {
                            setTimeout(r, 1000);
                        });
                    })
                    .title('请输入')
                    .prompt({
                        placeholder: '名称',
                        // multline:true
                    })
                    .show(true);

            }, 1000);
        }

        const exp = "'str.ss'+title+a.per+b.per+'str.dasd'";
        const a = exp.replace(/(['"`]).*?\1/g, '')
            .replace(/\.\w+/g, '')
            .match(/\w+/g);
        console.log(a);
    </script>
</body>

</html>