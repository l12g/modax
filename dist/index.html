<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <span class="mx-icon mx-icon__alert"></span>
    <span class="mx-icon mx-icon__warning"></span>
    <button onclick="show()">show</button>
    <button onclick="testLoading()">
      loading
    </button>
    <button
      onclick="mdx().toast('我是一条消息'+Math.random(),1000000).bottom().show()"
    >
      toast
    </button>

    <script src="modax.js"></script>
    <script>
      function testLoading() {
        const id = Math.random();
        mdx(id).loading().show();
        setTimeout(() => {
          mdx.close(id);
        }, 100);
      }
      mdx.defaults.width = "80%";
      mdx.plugin(
        "test",
        function () {
          setTimeout(() => {
            // this.close();
            mdx.close(this);
          }, 1000);
        },
        {
          template: "<h1>hello plugin</h1>",
        }
      );
      mdx.defaults.shadow = "light";
      for (let i = 0; i < 5; i++) {
        // mdx(i + 1).title(i + 1).content(i + 1).show();
      }

      function show() {
        mdx()
          // .width('80%')
          .title("提示")
          .shadowClose(true)
          .shadow("dark")

          .cancel(() => {
            return true;
          })
          .ok(() => {
            alert();
          })

          .content(
            "这个例子基于官方 Nginx 镜像，因此已经设置了日志重定向并关闭了自我守护进程。它也提供了其他有利于 Nginx 在 Docker 容器中运行的默认设置"
          )
          .show(true);

        return;
        // mdx('x').loading(0, '加载中').show();
        // return
        mdx("id")
          .title("提示")
          .content("xxx")

          .cancel(false)
          .ok(false)
          .action({
            text: "跳过",
            type: "ok",
            click: () =>
              new Promise((r) => {
                // setTimeout(r, 1000);
              }),
          })
          .action({
            text: "知道了",
            type: "cancel",
          })
          .ok(() => {
            return new Promise((r) => {
              setTimeout(r, 1000);
            });
          })
          .show();
        return;
        // mdx().height(699).src('http://localhost/new-qos/backend/web/index.php').show();
        // return;
        // mdx().toast('hello').show();
        // return
        mdx("x").loading(0, "加载中...").show();
        return;
        setTimeout(() => {
          mdx()
            .title("提示！")
            .width(500)
            // .content('<p>asdads</p><p>asdads</p><p>asdads</p><p>asdads</p><p>asdads</p><p>asdads</p>')
            .ok("退出", () => {
              return new Promise((r) => {
                setTimeout(r, 1000);
              });
            })
            .title("请输入")
            .prompt({
              placeholder: "名称",
              // multline:true
            })
            .show(true);
        }, 1000);
      }

      const exp = "'str.ss'+title+a.per+b.per+'str.dasd'";
      const a = exp
        .replace(/(['"`]).*?\1/g, "")
        .replace(/\.\w+/g, "")
        .match(/\w+/g);
      console.log(a);
    </script>
  </body>
</html>
